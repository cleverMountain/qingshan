<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    // 创建一个嵌套对象
    const originalObject = {
      a: 1,
      b: {
        c: 2,
        d: {
          e: 3,
          f: 4
        }
      }
    };

    // 创建一个递归代理对象的处理程序
    const recursiveHandler = {
      get(target, prop, receiver) {
 
        const value = Reflect.get(target, prop, receiver);
        if (typeof value === 'object' && value !== null) {
       
          // 如果属性值是对象，则递归地创建代理
          
          return new Proxy(value, recursiveHandler);
        }
        console.log('get')
        return value;
      },
      set(target, prop, value, receiver) {
     
        console.log('set')
        const success = Reflect.set(target, prop, value, receiver);
        // 在此可以添加任何必要的逻辑来处理属性设置
        return success;
      }
    };

    // 创建递归代理
    const proxyObject = new Proxy(originalObject, recursiveHandler);

    // 现在我们可以使用代理对象访问嵌套属性
    // console.log(proxyObject.b.c); // 输出: 2
    // console.log(proxyObject.b.d.e); // 输出: 3

    // 我们也可以修改属性
    proxyObject.b.c = 42;
    // console.log(proxyObject.b.c); // 输出: 42

  </script>
</body>

</html>